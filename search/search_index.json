{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Kapowarr Documentation Hub","text":"<p>Kapowarr is a software to build and manage a comic book library, fitting in the *arr suite of software.</p> <p>Kapowarr allows you to build a digital library of comics. You can add volumes, map them to a folder and start managing! Download issues of the volume (or TPB's), rename them and move them. The whole process is automated and can be customised in the settings.</p> <p>Each day, each volume is checked to see if a new issue has come out and if so, it will immediately be downloaded and added to your library.</p>"},{"location":"#finding-documentation","title":"Finding Documentation","text":"<p>In the web-UI of Kapowarr, the documentation for that topic will be found at the same URL path. This means for information about the 'File Naming' setting, (found at <code>YOUR_KAPOWARR/settings/mediamanagement#file-naming</code>), the docs for that setting can be found at <code>https://casvt.github.io/Kapowarr/settings/mediamanagement#file-naming</code>. The same goes for features like Library Import and Mass Editor.</p>"},{"location":"#quick-links","title":"Quick Links","text":""},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li>Installation and Updating</li> <li>Setup after installation</li> </ul>"},{"location":"#general-information","title":"General Information","text":"<ul> <li>How features work and their implementation</li> <li>FAQ</li> <li>Handling of the rate limits</li> <li>API Documentation</li> </ul>"},{"location":"#settings","title":"Settings","text":"<ul> <li>Explanation of settings</li> </ul>"},{"location":"#beta-documentation","title":"Beta Documentation","text":"<p>Documentation that only applies to the beta releases.</p> <ul> <li>Beta Documentation</li> </ul>"},{"location":"#contact","title":"Contact","text":"<ul> <li>For support, a Discord server is available.</li> <li>For issues or feature suggestions, see the Reporting page.</li> <li>For donations, go to Ko-Fi.</li> </ul>"},{"location":"beta/beta/","title":"Documentation for Beta Releases","text":"<p>Here you can find documentation on changes and additions that are only present in the beta release.</p>"},{"location":"general_info/downloading/","title":"Downloading","text":"<p>When a GC release has been chosen, either by you or by Kapowarr, Kapowarr will try to find a download link (or multiple) on the page to use for downloading the file(s). How Kapowarr decides which link(s) to use, is broken down in the following steps.</p> <ol> <li>GetComics (GC) often offers multiple services for the same download. Kapowarr first analyses the page and collects all groups and their links (one group per download).</li> <li>Next, it will combine multiple groups to cover as many issues as possible (if the download is for more than one issue). This collection of groups will form a 'path'. Groups are only added to a path if Kapowarr thinks that the group is actually downloading something we want. There can be multiple paths, in the case where there are conflicting groups. For example when there is a torrent download for all issues and multiple other downloads for issues 1-10, 11-20, etc.</li> <li>All the links in the first path are tested, to see if they work, are supported and are allowed by the blocklist. A link could not be supported because the service is simply not supported, or because it's a torrent download and no torrent client is set up. If enough links pass, all the downloads in the path are added to the queue to be downloaded. If not enough links pass, the next path is tested until one is found that passes. If none pass, the page is added to the blocklist for having no working links.</li> <li>When a path passes and it's groups are added to the download queue, a decision needs to be made for which service is going to be used for each group (direct download, Mega, MediaFire, etc.). The 'Service Preference' setting decides this.</li> </ol> <p>If Kapowarr downloads less (or nothing at all) from a page, but you are convinced that that shouldn't be the case, read about this topic on the FAQ page.</p>"},{"location":"general_info/features/","title":"Features","text":""},{"location":"general_info/features/#library-import","title":"Library Import","text":"<p>The feature 'Library Import' makes it possible to import an existing library into Kapowarr. You could have an existing library because you used a different software before, or because you downloaded media manually. In that case, Library Import makes it easy to start using Kapowarr.</p>"},{"location":"general_info/features/#proposal","title":"Proposal","text":"<p>When you run Library Import, it will search for files in your root folders that aren't matched to any issues yet. It will then try to find the volume for the file on CV. This list of files and CV matches gets presented to you (a.k.a. Library Import proposal). You can then change the matches, in case Kapowarr guessed incorrectly. You can choose to apply the changed match to only the file, or to all files for the volume.</p> <p>On the start screen, there are some settings that change the behaviour of Library Import:</p> <ul> <li>Max folders scanned: Limit the proposal to this amount of folders (roughly equal to the amount of volumes). Setting this to a large amount increases the chance of hitting the CV rate limit.</li> <li>Apply limit to parent folder: Apply the folder limit (prev. bullet) to the parent folder instead of the folder. Enable this when each issue has it's own sub-folder.</li> <li>Only match english volumes: When Kapowarr is searching on CV for a match for a file, only allow the match when it's an english release. So it won't allow translations.</li> <li>Folder(s) to scan: Allows you to supply a specific folder to scan, instead of all root folders. Supports glob patterns (e.g. <code>/comics-1/Star Wars*</code>).</li> </ul>"},{"location":"general_info/features/#importing","title":"Importing","text":"<p>When you are happy with the proposal, you have two options: 'Import' and 'Import and Rename'. Clicking 'Import' will make Kapowarr add all the volumes and set their volume folder to the folder that the file is in. Clicking 'Import and Rename' will make Kapowarr add all the volumes and move the files into the automatically generated volume folder, after which it will rename them.</p>"},{"location":"general_info/features/#implementation-details","title":"Implementation Details","text":"<p>When 'Import' is used, the volume folder that is set is the 'lowest common folder'. This is the lowest folder that still contains all files that are matched to that volume.</p> <p>If the CV rate limit is reached halfway through the proposal, the unhandled files will have no match. Files that don't have a match linked to them will be ignored when importing, regardless of the state of the checkbox for that file. It's advised to wait a few minutes and then do another run.</p> <p>If you imported files but certain ones pop up again in the next run, see the FAQ on this topic.</p>"},{"location":"general_info/managing_volume/","title":"Volume Management","text":""},{"location":"general_info/managing_volume/#adding-volumes-to-your-library","title":"Adding Volumes To Your Library","text":"<p>There are two ways you can add volumes - manually, or by importing. See the Library Import documentation for more information on that. To add a volume to your library manually, follow the instructions below:</p> <ol> <li>Make sure that you set a Root Folder.</li> <li>Make sure that you set your ComicVine API Key in the settings.</li> <li>In the web-UI, go to Volumes -&gt; Add Volume.</li> <li>Enter a search term (or the CV ID of the volume).</li> <li>In the search results, click on the volume that you want to add.</li> <li>Choose a root folder to put the volume folder in, set a custom volume folder (instead of the generated one) and choose if it should be monitored.</li> <li>Click 'Add Volume' to add it to your library. Done!</li> </ol>"},{"location":"general_info/managing_volume/#managing-files","title":"Managing Files","text":"<p>Now that you have a volume in your library, Kapowarr/you can start managing it.  </p> <p>When clicking on a volume in your library, you get taken to the volume page. It shows information about the volume and the issues that are in it. You can also click on an issue to get extra specific information about it. At the top, there is a tool bar with multiple options.</p>"},{"location":"general_info/managing_volume/#refresh-scan","title":"Refresh &amp; Scan","text":"<p>The 'Refresh &amp; Scan' button will update the metadata of the volume (= refresh) and scan for files (= scan). Under the metadata update falls data like the poster, title, release year and description but also the issue list and their descriptions, issue numbers and release dates. The file scanning will look in the volume folder for files and will try to match them to the issues. If Kapowarr is able to match them to an issue, that issue will be marked as downloaded. More information on how Kapowarr matches files to issues can be found on the 'Matching' page.</p> <p>On the home page (a.k.a. library page/view), the button 'Update All' will trigger a Refresh &amp; Scan for all volumes. The metadata of a volume is automatically updated every 24 hours, but will be forcibly updated if you trigger a Refresh &amp; Scan manually. More information on the risks of doing this too often can be found on the 'Rate Limiting' page.</p>"},{"location":"general_info/managing_volume/#preview-rename","title":"Preview Rename","text":"<p>Kapowarr has the ability to easily manage your files by (re)naming them all to one consistent format. You can change how Kapowarr should name files and folders in the settings. The 'Preview Rename' button will show a list of the files for the volume and what Kapowarr will rename them to, if you agree.</p>"},{"location":"general_info/managing_volume/#preview-convert","title":"Preview Convert","text":"<p>Another feature of Kapowarr is the ability to change the format of files. For example, Kapowarr can convert cbr files to cbz. To what format Kapowarr will change the files is set in the settings. The 'Convert' button will show a list of the files for the volume and what format Kapowarr will convert them to, if you agree.</p> <p>Extracting Archives</p> <p>If you download multiple issues in one go, they often come in a zip file (e.g. <code>Issue 1-10.zip</code>). Kapowarr can extract these archive files and put the contents directly in the folder. See the 'Extract archives covering multiple issues' setting to enable this.</p>"},{"location":"general_info/managing_volume/#root-folder-and-volume-folder","title":"Root folder and Volume folder","text":"<p>Clicking on the 'Edit' button will show a screen where you can edit the two folders of the volume: the root folder and the volume folder. The root folder is the base folder that the volume folder lives in and the volume folder is the specific folder inside the root folder that is destined for the volume. You can change both, and Kapowarr will move everything to the correct location for you.</p>"},{"location":"general_info/managing_volume/#downloading","title":"Downloading","text":"<p>This section covers the 'downloading' category. Implementation details on how Kapowarr downloads media can be found on the 'Downloading' page.</p>"},{"location":"general_info/managing_volume/#monitoring","title":"Monitoring","text":"<p>If a volume is monitored, Kapowarr will try to automatically download media for it. If a volume is unmonitored, it won't. The monitored status does not exclude a volume from manual downloads, metadata updates (Refresh &amp; Scan) or file scanning. You can also (un)monitor individual issues of a volume.</p>"},{"location":"general_info/managing_volume/#auto-search","title":"Auto Search","text":"<p>The button 'Search Monitored' will make Kapowarr try to download media for issues that aren't downloaded yet. This button only does something if the volume is monitored and at least one of it's monitored issues doesn't have a file yet. It uses GetComics as it's source. It will try to find a download for as many issues as possible, but it isn't guaranteed that it will always find a matching and working download.</p> <p>On the home page, the button 'Search All' will trigger a 'Search Monitored' for all monitored volumes. This is done every 24 hours automatically, but you can also trigger it manually.</p>"},{"location":"general_info/managing_volume/#manual-search","title":"Manual Search","text":"<p>The button 'Manual Search' will show you a list of search results for the volume/issue. From these results, you can choose yourself which one Kapowarr will download. It is possible that the page does not contain any matching and working downloads. In that case, the download button will turn red and the page will be added to the blocklist.</p>"},{"location":"general_info/managing_volume/#download-queue-and-post-processing","title":"Download Queue and Post Processing","text":"<p>When a download is added to the queue, you can see it on the Activity -&gt; Queue page. Kapowarr will download the files one by one (except for torrent files, the queue for those is handled by the torrent client). When a download is complete, it will enter post-download processing (a.k.a. post-processing). Entirely depending on your configuration, the file could be renamed, converted to a different format and/or be extracted (if it's an archive file with multiple issues inside). It will always be moved from the download folder to it's final destination inside the volume folder.</p> <p>When you view the volume after the download, you'll see that the issue now has a check mark on the right, indicating that it has been downloaded.</p>"},{"location":"general_info/matching/","title":"Matching","text":"<p>This page covers how Kapowarr matches certain things.</p>"},{"location":"general_info/matching/#files-to-issues","title":"Files to Issues","text":"<p>This covers how Kapowarr matches files to issues of a volume. Information is extracted from the filename, folder and parent folder.</p> <p>The matching criteria differ based on the type of volume. Kapowarr calls this the \"Special State\" of the volume. A volume can be a \"Normal Volume\", \"Trade Paper Back\", \"One Shot\", \"Hard Cover\" or \"Volume As Issue\". Kapowarr tries it's best to automatically determine the type, but there are scenario's where it's wrong. You can override the special state when adding a volume, or by editing the volume. This setting is one of the first things you should check in case the matching of files to issues does not work for a volume.</p> <p>What is a \"Volume As Issue\" volume?</p> <p>The \"Volume As Issue\" special state is for volumes where each issue is named \"Volume N\", where N is a number. An example of such a volume is Reign of X. Issue 1 is named \"Volume 1\", issue 2 is named \"Volume 2\", etc.</p> <p>If a specific string is required, most common variations are also supported. For example, if the string 'one-shot' is required, the variations 'one shot' and 'os' are also allowed. And upper case or lower case does not matter. </p> <p>Matching using year</p> <p>If it is an option to match using the year, both the release year of the volume and the release year of the issue is allowed. The year is also allowed to be off by one from the reference year.</p>"},{"location":"general_info/matching/#normal-volume","title":"Normal Volume","text":"<p>Rules:</p> <ol> <li>Has to mention issue number and should match.</li> <li>Either year or volume number has to be mentioned and should match.</li> </ol> <p>Examples:</p> <ol> <li><code>Iron-Man Volume 2 Issue 3.cbr</code></li> <li><code>Batman (1940) Vol. 2 #11-25.zip</code></li> </ol>"},{"location":"general_info/matching/#volume-as-issue-volume","title":"'Volume As Issue' Volume","text":"<p>This is a volume where the issue titles are in the format 'Volume N'.</p> <p>Rules:</p> <ol> <li>Volume number of file refers to issue number of volume or volume number of file refers to volume number of volume and issue number of file refers to issue number of volume.</li> <li>Either year or volume number has to be mentioned and should match.</li> </ol> <p>Examples:</p> <ol> <li><code>Invincible Compendium (2011) Volume 2 - 3.cbr</code></li> <li><code>Invincible Compendium (2011) Volume 1 Issue 2 - 3.cbr</code></li> </ol>"},{"location":"general_info/matching/#tpb-volume","title":"TPB Volume","text":"<p>Rules:</p> <ol> <li>Is allowed to have 'TPB'.</li> <li>Is not allowed to have issue number.</li> <li>Either year or volume number has to be mentioned and should match.</li> </ol> <p>Examples:</p> <ol> <li><code>Silver Surfer Rebirth (2022) Volume 1 TPB.cbz</code></li> <li><code>Silver Surfer Rebirth (2022) Volume 1.cbz</code></li> <li><code>Silver Surfer Rebirth Volume 1.cbz</code></li> <li><code>Silver Surfer Rebirth (2022).cbz</code></li> </ol> <p>The following is not allowed:</p> <ol> <li><code>Silver Surfer Rebirth Volume 1 Issue 001.cbz</code></li> </ol>"},{"location":"general_info/matching/#one-shot-volume","title":"One Shot Volume","text":"<p>Rules:</p> <ol> <li>Has to mention 'one-shot', issue number 1 or no issue number.</li> <li>Either year or volume number has to be mentioned and should match.</li> </ol> <p>Examples:</p> <ol> <li><code>Elvira Mistress of the Dark Spring Special One Shot (2019) Volume 1.cbz</code></li> <li><code>Elvira Mistress of the Dark Spring Special (2019).cbz</code></li> <li><code>Elvira Mistress of the Dark Spring Special Volume 1.cbz</code></li> <li><code>Elvira Mistress of the Dark Spring Special Volume 1 Issue 001.cbz</code></li> </ol>"},{"location":"general_info/matching/#hard-cover-volume","title":"Hard Cover Volume","text":"<p>Rules:</p> <ol> <li>Has to mention 'hard-cover', issue number 1 or no issue number.</li> <li>Either year or volume number has to be mentioned and should match.</li> </ol> <p>Examples:</p> <ol> <li><code>John Constantine, Hellblazer 30th Anniversary Celebration (2018) Hard-Cover.cbr</code></li> <li><code>John Constantine, Hellblazer 30th Anniversary Celebration (2018).cbr</code></li> <li><code>John Constantine, Hellblazer 30th Anniversary Celebration Volume 1.cbr</code></li> <li><code>John Constantine, Hellblazer 30th Anniversary Celebration Volume 1 Issue 01.cbr</code></li> </ol>"},{"location":"general_info/matching/#gc-search-results","title":"GC Search Results","text":"<p>When searching for a GC release, Kapowarr determines if the page is a match for the volume or not. The release has to conform with the following rules to pass the filter:</p> <ol> <li>Not be blocklisted.</li> <li>Series title has to match.</li> <li>If the volume number is given, it should match.</li> <li>If the year is given, it should match.</li> <li>If it is for a hard cover or one shot, it has to follow the first rule they have for files.</li> <li>If it is for a TPB, it has to follow the first two rules it has for files.</li> <li>If not a special version, the issue number should match to an issue in the volume.</li> </ol>"},{"location":"general_info/matching/#gc-groups","title":"GC Groups","text":"<p>When selecting links from a GC page for downloading, Kapowarr filters the groups so that no irrelevant files are downloaded. See the 'Downloading' page for more information. The download group has to conform with the following rules to pass the filter:</p> <ol> <li>Series title has to match.</li> <li>If the volume number is given, it should match.</li> <li>If the year is given, it should match.</li> <li>If it is for a hard cover or one shot, it has to follow the first rule they have for files.</li> <li>If it is for a TPB, it has to follow the first two rules it has for files.</li> </ol>"},{"location":"general_info/matching/#archive-extractions","title":"Archive Extractions","text":"<p>When extracting files from archives, the files are filtered and deleted if they are not for the volume. A file has to conform with the following rules to pass the filter:</p> <ol> <li>Series title has to match.</li> <li>Either year or volume number has to be mentioned and should match, or neither should be mentioned.</li> </ol>"},{"location":"general_info/workings/","title":"Introduction","text":"<p>Here you can learn more about how to use Kapowarr, how features work and certain implementation details.</p> <p>Managing A Volume More information on the basic usage of Kapowarr.</p> <p>Downloading Detailed information on how Kapowarr downloads media.</p> <p>Matching Details on how Kapowarr matches files to issues, GC search results and other things.</p> <p>Features Functionality and implementation details for certain features of Kapowarr.</p>"},{"location":"installation/docker/","title":"Docker","text":"<p>On this page, you can find instructions on how to install Kapowarr using Docker and how to update a Docker installation.</p>"},{"location":"installation/docker/#installation","title":"Installation","text":""},{"location":"installation/docker/#install-docker","title":"Install Docker","text":"<p>The first step is to install Docker, if you don't have it installed already. The official Docker documentation hub offers great instructions on how to install docker CLI and Docker Desktop. Take notice of if you installed the 'Docker CLI' (the Docker documentation also calls this 'Docker CE') or if you installed 'Docker Desktop', for future instructions.</p>"},{"location":"installation/docker/#create-docker-volume-or-folder","title":"Create Docker volume or folder","text":"<p>Kapowarr needs a permanent place to put the database file. This can be a Docker volume, or a folder on the host machine.</p> Docker VolumeLocal Folder Docker CLIDocker ComposeDocker Desktop <pre><code>docker volume create kapowarr-db\n</code></pre> <pre><code>docker volume create kapowarr-db\n</code></pre> <ul> <li>Open <code>Volumes</code></li> <li>Click <code>Create</code></li> <li>Enter <code>kapowarr-db</code> for the name and click <code>Create</code></li> </ul> LinuxMacOSWindows <p>Linux standards would suggest putting the folder in <code>/opt/application_name</code>, as the <code>/opt</code> directory is where program options should be stored. This is not mandatory however; you are allowed to create a folder anywhere you like. If we apply the standard to Kapowarr, the folder would be <code>/opt/Kapowarr/db</code>.</p> <p>Create the desired folder using the UI (if your distro offers this) or with the following shell command (replace <code>/path/to/directory</code> with desired path):</p> <pre><code>mkdir \"/path/to/directory\"\n</code></pre> <p>Permissions and ownership</p> <p>The permissions on this folder need to allow the container to read, write, and execute inside it. It also needs to have proper ownership. More documentation on this subject coming.</p> <p>MacOS standards would suggest putting the folder in <code>/Applications/application_name</code>. This is not mandatory however; you are allowed to create a folder anywhere you like. If we apply the standard to Kapowarr, the folder would be <code>/Applications/Kapowarr/db</code>.</p> <p>Create the desired folder using the UI or with the following shell command (replace <code>/path/to/directory</code> with desired path):</p> <pre><code>mkdir \"/path/to/directory\"\n</code></pre> <p>Permissions and ownership</p> <p>The permissions on this folder need to allow the container to read, write, and execute inside it. It also needs to have proper ownership. More documentation on this subject coming.</p> <p>There is no defined standard for Windows on where to put such a folder. We suggest a path like <code>C:\\apps\\application_name</code>, so that it can be managed easily. This is not mandatory however; you are allowed to create a folder anywhere you like. If we apply this suggestion to Kapowarr, the folder would be <code>C:\\apps\\Kapowarr\\db</code>.</p> <p>Create the desired folder either using the Windows Explorer, or using the following Powershell command:</p> <pre><code>mkdir \"C:\\apps\\Kapowarr\\db\"\n</code></pre> <p>Permissions and ownership</p> <p>The permissions on this folder need to allow the container to read, write, and execute inside it. It also needs to have proper ownership. More documentation on this subject coming.</p>"},{"location":"installation/docker/#creating-root-folder","title":"Creating root folder","text":"<p>Everything that Kapowarr does concerning files is done only within root folders. If you don't already have a folder where all your comics are in, create one. Follow the same instructions as for creating a local folder for the database, but then for your root folder.</p> <p>You can create multiple root folders (on multiple drives for example). If you desire multiple root folders, repeat the steps.</p> <p>Permissions and ownership</p> <p>Root folders require read and write permissions. More documentation on this subject coming.</p>"},{"location":"installation/docker/#creating-download-folder","title":"Creating download folder","text":"<p>Kapowarr downloads files to the 'temporary download folder'. Create a folder where Kapowarr can download to. Follow the same instructions as for creating a local folder for the database, but then for your temporary download folder.</p> <p>Permissions and ownership</p> <p>The temporary download folder requires read and write permissions. More documentation on this subject coming.</p>"},{"location":"installation/docker/#launch-container","title":"Launch container","text":"<p>Now we can launch the container.</p> Docker CLIDocker ComposeDocker Desktop <p>The command to get the Docker container running can be found below. But before you copy, paste and run it, read the notes below!</p> LinuxMacOSWindows <pre><code>docker run -d \\\n    --name kapowarr \\\n    -v \"kapowarr-db:/app/db\" \\\n    -v \"/path/to/download_folder:/app/temp_downloads\" \\\n    -v \"/path/to/root_folder:/comics-1\" \\\n    -p 5656:5656 \\\n    mrcas/kapowarr:latest\n</code></pre> <pre><code>docker run -d \\\n    --name kapowarr \\\n    -v \"kapowarr-db:/app/db\" \\\n    -v \"/path/to/download_folder:/app/temp_downloads\" \\\n    -v \"/path/to/root_folder:/comics-1\" \\\n    -p 5656:5656 \\\n    mrcas/kapowarr:latest\n</code></pre> <pre><code>docker run -d --name kapowarr -v \"kapowarr-db:/app/db\" -v \"DRIVE:\\with\\download_folder:/app/temp_downloads\" -v \"DRIVE:\\with\\root_folder:/comics-1\" -p 5656:5656 mrcas/kapowarr:latest\n</code></pre> <p>A few notes about this command:</p> <ol> <li> <p>If you're using a folder on the host machine instead of a docker volume to store the database file (reference), replace <code>kapowarr-db</code> with the path to the host folder. E.g. <code>\"/opt/Kapowarr/db:/app/db\"</code>. E.g. <code>\"C:\\apps\\Kapowarr\\db:/app/db\"</code>.</p> </li> <li> <p>Replace <code>/path/to/download_folder</code> with the path to the desired download folder, that you created earlier. E.g. <code>\"/home/my-user/comic-downloads:/app/temp_downloads\"</code>. E.g. <code>\"D:\\Comic-Downloads:/app/temp_downloads\"</code>.</p> </li> <li> <p>Replace <code>/path/to/root_folder</code> with the path to the desired root folder, that you created earlier. E.g. <code>\"/home/my-user/comics:/comics-1\"</code>. E.g. <code>\"D:\\Comics:/comics-1\"</code>.</p> </li> <li> <p>You can map multiple root folders by repeating <code>-v \"/path/to/root_folder:/comics-1\"</code> (or <code>-v \"DRIVE:\\with\\root_folder:/comics-1\"</code> for Windows) in the command, but then supplying different values for <code>/path/to/root_folder</code> and <code>/comics-1</code>. E.g. <code>-v \"/home/my-user/comics-2:/comics-2\" \\</code>. E.g. <code>-v \"E:\\Comics:/comics-2\"</code></p> </li> <li> <p>Information on how to change the port can be found on the Setup After Installation page.</p> </li> </ol> <p>The contents of the <code>docker-compose.yml</code> file are below. The source file can also be found on GitHub. But before you copy, paste and run it, read the notes below!</p> <pre><code>version: \"3.3\"\nservices:\n  kapowarr:\n    container_name: kapowarr\n    image: mrcas/kapowarr:latest\n    volumes:\n      - \"kapowarr-db:/app/db\"\n      - \"/path/to/download_folder:/app/temp_downloads\"\n      - \"/path/to/root_folder:/comics-1\"\n    ports:\n      - 5656:5656\n\nvolumes:\n  kapowarr-db:\n</code></pre> <p>Then run the following command to start the container. Run this command from within the directory where the <code>docker-compose.yml</code> file is located.</p> <pre><code>docker-compose up -d\n</code></pre> <p>A few notes about the <code>docker-compose.yml</code> file:</p> <ol> <li> <p>If you're using a folder on the host machine instead of a docker volume to store the database file (reference), replace <code>kapowarr-db</code> with the path to the host folder. E.g. <code>\"/opt/Kapowarr/db:/app/db\"</code>. E.g. <code>\"C:\\apps\\Kapowarr\\db:/app/db\"</code>.</p> </li> <li> <p>Replace <code>/path/to/download_folder</code> with the path to the desired download folder, that you created earlier. E.g. <code>\"/home/my-user/comic-downloads:/app/temp_downloads\"</code>. E.g. <code>\"D:\\Comic-Downloads:/app/temp_downloads\"</code>.</p> </li> <li> <p>Replace <code>/path/to/root_folder</code> with the path to the desired root folder, that you created earlier. E.g. <code>\"/home/my-user/comics:/comics-1\"</code>. E.g. <code>\"D:\\Comics:/comics-1\"</code>.</p> </li> <li> <p>You can map multiple root folders by repeating <code>- \"/path/to/root_folder:/comics-1\"</code> in the command, but then supplying different values for <code>/path/to/root_folder</code> and <code>/comics-1</code>. E.g. <code>- \"/home/my-user/comics-2:/comics-2\"</code>. E.g. <code>- \"E:\\Comics:/comics-2\"</code></p> </li> <li> <p>Information on how to change the port can be found on the Setup After Installation page.</p> </li> </ol> <ol> <li>Click the search bar at the top and search for <code>mrcas/kapowarr</code>.</li> <li>Click <code>Run</code> on the entry saying <code>mrcas/kapowarr</code>.</li> <li>Open <code>Images</code>, and on the right, under <code>Actions</code> click the play/run button for <code>mrcas/kapowarr</code>.</li> <li>Expand the 'Optional settings'.</li> <li>For the <code>Container name</code>, set the value to <code>kapowarr</code>.</li> <li>For the <code>Host port</code>, set the value to <code>5656</code>. Information on how to change the port can be found on the Setup After Installation page.</li> <li>For the <code>Host path</code>, set the value to <code>kapowarr-db</code> if you are using a Docker volume for the database. Otherwise, set it to the folder where you want to store the database, that you created earlier. Set the accompanying <code>Container path</code> to <code>/app/db</code>.</li> <li>Add another volume mapping using the plus button on the right. Enter your download folder (that you created earlier) as the value of <code>Host path</code> and set the accompanying <code>Container path</code> to <code>/app/temp_downloads</code>.</li> <li>Add another volume mapping using the plus button on the right. Enter your root folder (that you created earlier) as the value of <code>Host path</code> and set the accompanying <code>Container path</code> to <code>/comics-1</code>.</li> <li>If you have multiple root folders, repeat step 9, but with a different value for <code>Host path</code> and <code>Container path</code>.</li> </ol>"},{"location":"installation/docker/#example","title":"Example","text":"<p>Below you can find an example of running a Docker command and an example of a Docker Compose file.</p> Docker CLIDocker ComposeDocker Desktop <pre><code>docker run -d \\\n    --name kapowarr \\\n    -v \"kapowarr-db:/app/db\" \\\n    -v \"/home/cas/media/Downloads:/app/temp_downloads\" \\\n    -v \"/home/cas/media/Comics:/comics-1\" \\\n    -v \"/home/cas/other_media/Comics-2:/comics-2\" \\\n    -p 5656:5656 \\\n    mrcas/kapowarr:latest\n</code></pre> <pre><code>version: \"3.3\"\nservices:\n  kapowarr:\n    container_name: kapowarr\n    image: mrcas/kapowarr:latest\n    volumes:\n      - \"kapowarr-db:/app/db\"\n      - \"/home/cas/media/Downloads:/app/temp_downloads\"\n      - \"/home/cas/media/Comics:/comics-1\"\n      - \"/home/cas/other_media/Comics-2:/comics-2\"\n    ports:\n      - 5656:5656\n\nvolumes:\n  kapowarr-db:\n</code></pre> <p></p> <p>In this example, we use a Docker volume as the place to store the database file, set <code>/home/cas/media/Downloads</code> as the download folder and we map the folder <code>/home/cas/media/Comics</code> to <code>/comics-1</code> and <code>/home/cas/other_media/Comics-2</code> to <code>/comics-2</code>. In Kapowarr you'd then add <code>/comics-1</code> and <code>/comics-2</code> as root folders, but more information on that on the Setup After Installation page.</p>"},{"location":"installation/docker/#update-install","title":"Update install","text":"<p>Below you can find instructions on how to update an install. In order for the database to properly migrate, upgrade minor version by minor version (i.e. v1.0.0, v1.1.0, v1.2.0, etc.).</p> Docker CLIDocker ComposeDocker Desktop <p>If needed, run these commands with <code>sudo</code>. It is assumed that the name of the container is <code>kapowarr</code> (which is set using the <code>--name</code> option in the command).</p> <ol> <li><code>docker container stop kapowarr</code></li> <li><code>docker container rm kapowarr</code></li> <li><code>docker image rm mrcas/kapowarr:latest</code></li> <li>Run the command you previously used to start the container.</li> </ol> <p>If needed, run these commands with <code>sudo</code>. You need to be in the same directory as the <code>docker-compose.yml</code> file when running these commands.</p> <ol> <li><code>docker-compose down</code></li> <li><code>docker-compose pull</code></li> <li><code>docker-compose up -d</code></li> <li><code>docker image prune -f</code></li> </ol> <ol> <li>Open <code>Containers</code> and locate the <code>kapowarr</code> container in the list.</li> <li>Click the stop button on the right, then the delete button.</li> <li>Open <code>Images</code> and locate the <code>mrcas/kapowarr</code> image in the list.</li> <li>Click the delete button on the right.</li> <li>Repeat the steps of launching the container.</li> </ol>"},{"location":"installation/installation/","title":"Introduction","text":"<p>Installing Kapowarr can be done via Docker or via a manual install. Docker requires less setup and has better support, but if your OS/system does not support Docker, you can also install Kapowarr directly on your OS via a manual install.</p> <p>Recommended Installation</p> <p>The recommended way to install Kapowarr is using Docker.</p> <p>For instructions on installing Kapowarr using Docker, see the Docker installation instructions. For instructions on installing Kapowarr via a manual install, see the manual installation instructions.</p> <p>After installing Kapowarr, there is some setup needed so that Kapowarr can start doing it's job, work optimally and act to your desires. It's advised to visit the Setup After Installation page after installation for more information.</p> <p>Updating an installation can also be found on the installation pages of the respective installation method.</p>"},{"location":"installation/installation/#quick-instructions","title":"Quick Instructions","text":"<p>If you already have experience with Docker and the *arr suite of apps, then below you can find some quick instructions to get Kapowarr up and running fast. If you need some more guidance, follow the full guide for Docker or a manual install.</p> <p>You need to have a download folder and root folder created on the host. The database will be stored in a Docker volume. Replace the paths (<code>/path/to/...</code>) with their respective values. See the examples for some extra help.</p> Docker CLIDocker Compose LinuxMacOSWindows <pre><code>docker run -d \\\n    --name kapowarr \\\n    -v \"kapowarr-db:/app/db\" \\\n    -v \"/path/to/download_folder:/app/temp_downloads\" \\\n    -v \"/path/to/root_folder:/comics-1\" \\\n    -p 5656:5656 \\\n    mrcas/kapowarr:latest\n</code></pre> <pre><code>docker run -d \\\n    --name kapowarr \\\n    -v \"kapowarr-db:/app/db\" \\\n    -v \"/path/to/download_folder:/app/temp_downloads\" \\\n    -v \"/path/to/root_folder:/comics-1\" \\\n    -p 5656:5656 \\\n    mrcas/kapowarr:latest\n</code></pre> <pre><code>docker run -d --name kapowarr -v \"kapowarr-db:/app/db\" -v \"DRIVE:\\with\\download_folder:/app/temp_downloads\" -v \"DRIVE:\\with\\root_folder:/comics-1\" -p 5656:5656 mrcas/kapowarr:latest\n</code></pre> <pre><code>version: \"3.3\"\nservices:\n  kapowarr:\n    container_name: kapowarr\n    image: mrcas/kapowarr:latest\n    volumes:\n      - \"kapowarr-db:/app/db\"\n      - \"/path/to/download_folder:/app/temp_downloads\"\n      - \"/path/to/root_folder:/comics-1\"\n    ports:\n      - 5656:5656\n\nvolumes:\n  kapowarr-db:\n</code></pre>"},{"location":"installation/manual_install/","title":"Manual Install","text":"<p>On this page, you can find instructions on how to manually install Kapowarr (directly on the host) and on how to update your manual installation.</p>"},{"location":"installation/manual_install/#installation","title":"Installation","text":"<p>Warning</p> <p>These instructions are still under construction.</p> WindowsUbuntumacOS <p>On Windows, there are a couple of extra steps involved.  </p> <ol> <li>Download and install Python. This is the framework Kapowarr runs on top of. Make sure you select to add Python to PATH when prompted. This will make installing requirements much easier.</li> <li>Download (or clone) the latest Kapowarr release.  </li> <li>Extract the zip file to a folder on your machine.    We suggest something straightforward - <code>C:\\services\\Kapowarr</code> is what we'll use as an example.</li> <li>Install the required python modules (found in <code>requirements.txt</code>).    This can be achieved from a command prompt, by changing to the folder you've extracted Kapowarr to and running a python command.    <pre><code>cd C:\\services\\Kapowarr\npython -m pip install -r requirements.txt\n</code></pre></li> <li>Run Kapowarr with the command <code>python C:\\services\\Kapowarr\\kapowarr.py</code>.</li> <li>Access Kapowarr with the IP of the host machine and port 5656.    If it's the machine you're using, try http://localhost:5656</li> </ol> <p>If you want Kapowarr to run in the background, without you having to start it each time your machine restarts, a tool called nssm will allow you to configure Kapowarr to run as a system service. It is recommended that you set it up as above before doing this, as it will allow you to see any errors you may encounter on screen (instead of having nssm intercept them).</p> <p>Coming soon.</p> <p>Use docker. Permissions on macOS (and GateKeeper) make this needlessly complex.  </p>"},{"location":"installation/manual_install/#updating-install","title":"Updating install","text":"<p>Coming Soon.</p>"},{"location":"installation/setup_after_installation/","title":"Setup After Installation","text":"<p>After installing Kapowarr, you should have access to the web-ui. If not, check the FAQ on this topic. Kapowarr needs some configuration in order for it to work properly.</p>"},{"location":"installation/setup_after_installation/#port","title":"Port","text":"<p>The first thing to do is decide if you want to leave Kapowarr on the default port of 5656. If you want to keep the port, you can go to the next step. If you want to change the port, see the 'Port Number' setting.</p>"},{"location":"installation/setup_after_installation/#authentication","title":"Authentication","text":"<p>If you want to put a password on your instance of Kapowarr, see the 'Login Password' setting.</p> <p>Exposing Kapowarr</p> <p>If you are exposing your Kapowarr instance to the internet, we highly recommend setting a password.</p>"},{"location":"installation/setup_after_installation/#comicvine-api-key","title":"ComicVine API key","text":"<p>Kapowarr uses ComicVine as it's metadata source. To fetch the metadata from ComicVine, Kapowarr needs access to it's API, which requires an API key.</p> <p>See the 'Comic Vine API Key' setting for how to get one. Once you've entered your key and hit 'Save', move on to Root Folders.  </p>"},{"location":"installation/setup_after_installation/#root-folders","title":"Root folders","text":"<p>Root folders are the base folders that Kapowarr works in. All content is put in these folders. See the 'Root Folders' section of the settings for more details.</p> <p>You need at least one root folder</p> <p>At least one root folder must be set before you are able to add any volumes to your library.</p>"},{"location":"installation/setup_after_installation/#direct-download-temporary-folder","title":"Direct Download Temporary Folder","text":"<p>If you want to, you can change the folder that Kapowarr downloads files to. It's called the 'Direct Download Temporary Folder' setting.</p>"},{"location":"installation/setup_after_installation/#service-preference","title":"Service preference","text":"<p>If you have an account with Mega, set that service as the priority and add a credential for it. The other services will then be used as a fallback option for if a link fails.</p> <p>For a full explanation, see the 'Service Preference' section of the settings.  </p>"},{"location":"installation/setup_after_installation/#credentials","title":"Credentials","text":"<p>This only applies if you have an account with Mega (for now). Kapowarr can take advantage of the higher limits (download speed, daily size limit, etc.) that an account has to offer.</p> <p>See the 'Credentials' section of the settings for more info.</p>"},{"location":"installation/setup_after_installation/#building-a-library","title":"Building a library","text":"<p>Now that you are ready, you can start adding volumes to your library. If you have an existing library that you want to import into Kapowarr, use the Library Import feature found at Volumes -&gt; Library Import.</p>"},{"location":"other_docs/api/","title":"API documentation","text":""},{"location":"other_docs/api/#coming-soon","title":"Coming Soon","text":""},{"location":"other_docs/faq/","title":"FAQ","text":""},{"location":"other_docs/faq/#regarding-the-project","title":"Regarding the project","text":""},{"location":"other_docs/faq/#does-kapowarr-support-xyz","title":"Does Kapowarr support XYZ?","text":"<p>Look around in the web-UI and this documentation hub first, to see if you find it. Otherwise you can ask on the Discord server. If you are sure that it is not available in Kapowarr, you can report it.</p>"},{"location":"other_docs/faq/#when-will-xyz-be-added","title":"When will XYZ be added?","text":"<p>First, check out the project board to see if it's already on there and if so, at what stage it is. If it's not, check if a feature request is already made for it on the issues page and otherwise make an issue yourself.</p>"},{"location":"other_docs/faq/#regarding-the-usage","title":"Regarding the usage","text":""},{"location":"other_docs/faq/#how-do-i-access-the-web-ui","title":"How do I access the web-UI?","text":"<p>If you want to access the web-UI from the same computer that Kapowarr is running on, you can go to http://localhost:5656. Otherwise, you need to find out what the IP address is of the computer that Kapowarr is running on. Then you can access it via <code>{IP}:5656</code>. So if the IP address is <code>192.168.2.15</code>, you can access the web-UI via <code>192.168.2.15:5656</code> or <code>http://192.168.2.15:5656</code>.</p> <p>If you can still not access the web-UI, check if the port is allowed through the firewall.</p>"},{"location":"other_docs/faq/#why-do-certain-files-pop-up-in-the-library-import-even-though-i-just-imported-them","title":"Why do certain files pop up in the Library Import, even though I just imported them?","text":"<p>If you match a file with a CV volume and import it that way, but the file is not matched to the volume, the file will pop up again. So the source of the problem is that the file is not matched to any issue of the volume that it was originally matched to in the Library Import proposal. Use the 'Matching' page to figure out why the filename is insufficient to match to the volume.</p>"},{"location":"other_docs/faq/#why-does-kapowarr-not-grab-the-links-from-a-gc-page-even-though-they-work-fine","title":"Why does Kapowarr not grab the links from a GC page even though they work fine?","text":"<p>This could have two causes: working but unsupported links, or non-matching groups.</p> <p>It could be the case that the link is working, but that it's not supported by Kapowarr. For example, downloading a Mega/MediaFire folder.</p> <p>Otherwise, most of the time, it's because Kapowarr does not think that the link leads to a file that actually matches the volume. Often, GC pages have multiple links, and not always are all of them relevant to the volume. Because of this, Kapowarr filters the groups and only downloads the ones that it thinks are relevant to the volume. It could be that the information does not match enough for Kapowarr to be convinced that they match. This could be because the year does not match close enough, or the title (e.g. 'ABC: Deluxe Edition' and 'The Deluxe Edition of ABC').</p>"},{"location":"other_docs/faq/#common-errors","title":"Common Errors","text":""},{"location":"other_docs/faq/#i-cant-add-volumes-to-the-library","title":"I can't add volumes to the library","text":"<p>The two most common causes for this are:</p> <ul> <li>Not having a valid ComicVine API key to be able to match or look up volumes.</li> <li>Not having a root folder defined.</li> </ul>"},{"location":"other_docs/faq/#my-files-dont-match-to-the-volume","title":"My files don't match to the volume","text":"<p>There are multiple causes to this:</p> <ul> <li>The files are not in the volume folder.</li> <li>They don't match the matching criteria for the volume. The matching criteria depend on the Special State of the volume. Read more about that in the linked section.</li> <li>The filename matches the criteria of the volume, but the filename is not properly handled. If you think this is the case, please report it.</li> </ul>"},{"location":"other_docs/rate_limiting/","title":"Rate limiting","text":"<p>This page covers how Kapowarr handles the rate limits of the services it uses.</p>"},{"location":"other_docs/rate_limiting/#comicvine","title":"ComicVine","text":"<p>Hourly, Kapowarr finds the volumes that haven't had a metadata fetch for more than a day. It tries to fetch for as many volumes as possible. If it can't fetch for them all in one go, the ones that didn't get fetched, get preference the next hour.</p> <p>With this setup, all volumes (unless you have an absurdly big library) get updated every day and as little as possible requests are made. When we still surpass the limit, the volumes that need to be fetched the most (the ones that haven't been updated for the longest) get preference to ensure that they \"keep up\". Kapowarr can update at most 25.000 volumes and 25.000 issues per hour.</p>"},{"location":"other_docs/rate_limiting/#mega","title":"Mega","text":"<p>If a Mega download reaches the rate limit of the account mid-download (no way to calculate this beforehand), the download is canceled and all other Mega downloads in the download queue are removed. From that point on, Mega downloads are skipped until we can download from it again. Alternative services like MediaFire and GetComics are used instead of Mega while we wait for the limit to go down again. If you have a Mega account that offers higher limits, it's advised to add it at Settings -&gt; Download -&gt; Credentials, so that Kapowarr can take advantage of it.</p>"},{"location":"other_docs/reporting/","title":"Reporting","text":"<p>This page covers how to get in contact, which platform to use and how to properly share information like logs and errors.</p>"},{"location":"other_docs/reporting/#choosing-a-platform","title":"Choosing a Platform","text":"<p>If you have a question, first check the FAQ and otherwise visit the Discord server. If you experience behaviour that you are unsure of if it's correct, check the 'General Information' page. If you are sure that something is going wrong (bug) or is missing (feature), create a GitHub issue.</p>"},{"location":"other_docs/reporting/#reporting-a-bug","title":"Reporting a Bug","text":"<p>If you experience behaviour that is not correct, you should make a 'bug report':</p> <ol> <li>Enable debug logging in the settings.</li> <li>Reproduce the error (this way it will occur with debug logs enabled).</li> <li>Collect all the relevant logs. Preferably starting from when you started reproducing, but AT LEAST the complete error (a.k.a. traceback).</li> <li>Collect the information found at System -&gt; Status -&gt; About.</li> <li>On the GitHub issues page, make a new issue and choose the 'Bug report' template. Fill in each field in the template with the information from your system.</li> <li>Make sure to properly format code and errors! Otherwise it's not readable. See the tip below.</li> </ol>"},{"location":"other_docs/reporting/#formatting-code-and-errors","title":"Formatting code and errors","text":"<p>Formatting code and errors in GitHub</p> <p>If you want to share logs, type the following when making a GitHub issue:</p> <p>``` [2024-01-20 11:20:29][MainThread][INFO] Starting up Kapowarr [2024-01-20 11:20:29][MainThread][INFO] Kapowarr running on http://0.0.0.0:5656/ [2024-01-20 11:20:29][Thread-1][INFO] Added task: Update All (1) [2024-01-20 11:20:30][Task Handler][INFO] Finished task Update All ```</p> <p>It will look like this:</p> <pre><code>[2024-01-20 11:20:29][MainThread][INFO] Starting up Kapowarr\n[2024-01-20 11:20:29][MainThread][INFO] Kapowarr running on http://0.0.0.0:5656/\n[2024-01-20 11:20:29][Thread-1][INFO] Added task: Update All (1)\n[2024-01-20 11:20:30][Task Handler][INFO] Finished task Update All\n</code></pre> <p>If you want to share code or errors, type the following when making a Github issue:</p> <p>```python Traceback (most recent call last): File \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 1455, in wsgi_app     \u2003response = self.full_dispatch_request() File \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 869, in full_dispatch_request     \u2003rv = self.handle_user_exception(e) File \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 867, in full_dispatch_request     \u2003rv = self.dispatch_request() File \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 852, in dispatch_request     \u2003return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args) File \"/usr/serverApps/Kapowarr/frontend/api.py\", line 64, in wrapper     \u2003return method(args, **kwargs) File \"/usr/serverApps/Kapowarr/frontend/api.py\", line 207, in wrapper     \u2003result = method(args, **kwargs) File \"/usr/serverApps/Kapowarr/frontend/api.py\", line 398, in api_library_import     \u2003result = propose_library_import(limit, only_english) File \"/usr/serverApps/Kapowarr/backend/library_import.py\", line 174, in propose_library_import     \u2003search_results = run(__search_matches( File \"/usr/lib/python3.8/asyncio/runners.py\", line 44, in run     \u2003return loop.run_until_complete(main) File \"/usr/lib/python3.8/asyncio/base_events.py\", line 616, in run_until_complete     \u2003return future.result() File \"/usr/serverApps/Kapowarr/backend/library_import.py\", line 37, in __search_matches     \u2003responses = await gather(*tasks) File \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 597, in search_volumes_async     \u2003return self.__process_search_results(query, results) File \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 483, in __process_search_results     \u2003results = [self.__format_volume_output(r) for r in results] File \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 483, in     \u2003results = [self.__format_volume_output(r) for r in results] File \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 303, in __format_volume_output     \u2003result['volume_number'] = int(volume_result.group(1)) ValueError: invalid literal for int() with base 10: 'i' ```</p> <p>It will look like this:</p> <pre><code>Traceback (most recent call last):\nFile \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 1455, in wsgi_app\n    response = self.full_dispatch_request()\nFile \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 869, in full_dispatch_request\n    rv = self.handle_user_exception(e)\nFile \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 867, in full_dispatch_request\n    rv = self.dispatch_request()\nFile \"/home/nogardvfx/.local/lib/python3.8/site-packages/flask/app.py\", line 852, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)\nFile \"/usr/serverApps/Kapowarr/frontend/api.py\", line 64, in wrapper\n    return method(*args, **kwargs)\nFile \"/usr/serverApps/Kapowarr/frontend/api.py\", line 207, in wrapper\n    result = method(*args, **kwargs)\nFile \"/usr/serverApps/Kapowarr/frontend/api.py\", line 398, in api_library_import\n    result = propose_library_import(limit, only_english)\nFile \"/usr/serverApps/Kapowarr/backend/library_import.py\", line 174, in propose_library_import\n    search_results = run(__search_matches(\nFile \"/usr/lib/python3.8/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\nFile \"/usr/lib/python3.8/asyncio/base_events.py\", line 616, in run_until_complete\n    return future.result()\nFile \"/usr/serverApps/Kapowarr/backend/library_import.py\", line 37, in __search_matches\n    responses = await gather(*tasks)\nFile \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 597, in search_volumes_async\n    return self.__process_search_results(query, results)\nFile \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 483, in __process_search_results\n    results = [self.__format_volume_output(r) for r in results]\nFile \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 483, in\n    results = [self.__format_volume_output(r) for r in results]\nFile \"/usr/serverApps/Kapowarr/backend/comicvine.py\", line 303, in __format_volume_output\n    result['volume_number'] = int(volume_result.group(1))\nValueError: invalid literal for int() with base 10: 'i'\n</code></pre> <p>See the difference? That's why it's important to properly format logs and code when sharing them.</p>"},{"location":"settings/download/","title":"Download","text":""},{"location":"settings/download/#download-location","title":"Download Location","text":""},{"location":"settings/download/#direct-download-temporary-folder","title":"Direct Download Temporary Folder","text":"<p>This is where the files being downloaded get written to before being processed and moved to the correct location.</p> <p>If you run Kapowarr using Docker, leave this set to the default value of <code>/app/temp_downloads</code> and instead change the value of <code>/path/to/download_folder</code> in the Docker command. If you have a manual install, you can change this value to whatever you want. It is required to be outside your root folders.</p>"},{"location":"settings/download/#empty-temporary-download-folder","title":"Empty Temporary Download Folder","text":"<p>This isn't so much of a setting as it is a tool. It will delete all files from the download folder that aren't actively being downloaded. This can be handy if the application crashed while downloading, leading to half-downloaded 'ghost' files in the folder.  </p>"},{"location":"settings/download/#completed-download-handling","title":"Completed Download Handling","text":""},{"location":"settings/download/#seeding-handling","title":"Seeding Handling","text":"<p>When a torrent has completed downloading, it will start to seed depending on the settings of the torrent client. The originally downloaded files need to be available in order to seed. But you might not want to wait for the torrent to complete seeding before you can read the downloaded comics. Kapowarr offers two solutions:</p> <ol> <li>Complete: wait until the torrent has completed seeding and then move the files. You'll have to wait until the torrent has completed seeding before the comics are available.</li> <li>Copy: make a copy of the downloaded files and post-process those (moving, renaming, converting, etc.). When the torrent finishes seeding, it's files are deleted. With this setup, your downloaded comics will be available immediately, but will temporarily take up twice as much space.</li> </ol>"},{"location":"settings/download/#delete-completed-torrents","title":"Delete Completed Torrents","text":"<p>If Kapowarr should delete torrents from the client once they have completed. Otherwise leave them in the queue of the torrent client as 'completed'.</p>"},{"location":"settings/download/#service-preference","title":"Service preference","text":"<p>Kapowarr has the ability to download directly from the servers of GetComics, but also to download from services like MediaFire and Mega. When an issue is queried on GetComics and found to have multiple possible download sources, this defines which source takes priority. If the first download fails, Kapowarr will try the next service in order.</p> <p>If you have an account for one of these services (see Credentials setting), you might want to put that one at the top, to make Kapowarr take advantage of the extra features that the account offers (extra bandwidth, higher rate limit, etc.).  </p>"},{"location":"settings/downloadclients/","title":"Download Clients","text":""},{"location":"settings/downloadclients/#built-in-clients","title":"Built-in Clients","text":"<p>A list of the download clients Kapowarr has built-in. It uses these to download from multiple sources offered by GetComics. Clicking on one of them shows a window with more information and, if the client has support for it, an option to enter credentials (see below).</p>"},{"location":"settings/downloadclients/#credentials","title":"Credentials","text":"<p>If you have an account with Mega, Kapowarr has the ability to use this account. If you provide your login credentials for the service, Kapowarr will then take advantage of the extra features that your account has access to (higher speeds and limits, usually). You can enter the credentials by clicking on the client and filling in the form.</p>"},{"location":"settings/downloadclients/#torrent-clients","title":"Torrent Clients","text":"<p>By adding at least one torrent client, Kapowarr is able to download torrents.</p> <p>Using localhost in combination with a Docker container</p> <p>If the torrent client is hosted on the host OS, and Kapowarr is running inside a Docker container, then it is not possible to use <code>localhost</code> in the base URL of the torrent client. Instead, the IP address used by the host OS must be used.</p>"},{"location":"settings/general/","title":"General","text":""},{"location":"settings/general/#host","title":"Host","text":"<p>This section defines how Kapowarr binds to a IP/port when starting up. Any setting here requires you to restart Kapowarr after saving it for it to apply.</p>"},{"location":"settings/general/#bind-address","title":"Bind Address","text":"<p>This tells Kapowarr what IP to bind to. If you specify an IP that is not on the machine running Kapowarr, you will encounter errors. Using <code>0.0.0.0</code> will have Kapowarr bind to all interfaces it finds on the host machine.</p> <p>Note: this setting is not applicable if you have Kapowarr deployed using Docker.</p>"},{"location":"settings/general/#port-number","title":"Port Number","text":"<p>This tells Kapowarr what port to listen on. The default is <code>5656</code>, which would put the Kapowarr UI on <code>http://{HOST}:5656/</code>.</p> <p>If you have Kapowarr deployed using Docker, do not change this setting but instead follow the instructions below:</p> Docker CLIDocker ComposeDocker Desktop <p>Alter the command to run the container by replacing <code>-p 5656:5656</code> with <code>-p {PORT}:5656</code>, where <code>{PORT}</code> is the desired port (e.g. <code>-p 8009:5656</code>). Run the container with the new version of the command (you will need to remove the old container if you had it running before).</p> <p>Alter the file to run the container and replace <code>- 5656:5656</code> with <code>- {PORT}:5656</code>, where <code>{PORT}</code> is the desired port (e.g. <code>- 8009:5656</code>). Then re-run the container with the new version of the file.</p> <ol> <li>Open <code>Containers</code> and locate the <code>kapowarr</code> container in the list.</li> <li>Click the stop button on the right, then the delete button.</li> <li>Follow the instructions for launching the container, starting from step 3. At step 6, set the value to the desired port. For example, if you set it to <code>8009</code>, the web-UI will then be accessible via <code>http://{host}:8009/</code>. Continue following the rest of the steps.</li> </ol>"},{"location":"settings/general/#base-url","title":"Base URL","text":"<p>This is used for reverse proxy support - the default is empty. If you want to put Kapowarr behind a proxy (so you can access the web-UI via a nice URL), set a Base URL (it must start with a <code>/</code> character).  </p> <p>To get Kapowarr running on <code>http://example.com/kapowarr</code>, you would set your reverse proxy to forward the <code>/kapowarr</code> path to the IP and port of your Kapowarr instance, and set Base URL to <code>/kapowarr</code>.</p>"},{"location":"settings/general/#security","title":"Security","text":""},{"location":"settings/general/#login-password","title":"Login Password","text":"<p>You might want to set a password to restrict access to the web-ui (and API). This is optional, but highly recommended if you are exposing Kapowarr to the internet. If you want to disable the password, set an empty value for the setting and save.</p>"},{"location":"settings/general/#api-key","title":"API Key","text":"<p>This is where Kapowarr defines the API key for any queries made to the Kapowarr API.</p>"},{"location":"settings/general/#comic-vine-api","title":"Comic Vine API","text":""},{"location":"settings/general/#comic-vine-api-key","title":"Comic Vine API Key","text":"<p>Kapowarr uses ComicVine as its metadata source. To fetch the metadata from ComicVine, Kapowarr needs access to the API, which requires an API key.</p> <ol> <li>Go to the API page of ComicVine.</li> <li>If you don't have a free account at ComicVine already, sign up and once logged in, revisit the linked page.</li> <li>You'll see your ComicVine API key, which is 40 characters long and contains the letters a-f and numbers 0-9 (e.g. <code>da39a3ee5e6b4b0d3255bfef95601890afd80709</code>).</li> <li>Copy that API key and set it as the value in the web-UI. Don't forget to save.</li> </ol> <p>On the documentation page about rate limiting, information can be found about the handling of the ComicVine API rate limit.</p>"},{"location":"settings/general/#ui","title":"UI","text":""},{"location":"settings/general/#theme","title":"Theme","text":"<p>The default theme is \"Light\". If you like dark mode, select \"Dark\".</p>"},{"location":"settings/general/#logging","title":"Logging","text":""},{"location":"settings/general/#log-level","title":"Log Level","text":"<p>The default log level is 'Info'. This means that only things that would appear in a console (or stdout) get logged. If you are troubleshooting or want to share logs, setting this to 'Debug' will make the system log what it's doing in much more detail.  </p> <p>Note that this should be set to 'Info' when not debugging, as Kapowarr logs so much in 'Debug' mode that it could slow down operation.</p>"},{"location":"settings/general/#download-logs","title":"Download Logs","text":"<p>By clicking the button, a text file will be downloaded containing all the latest logs. This file can be used in case a large amount of logs need to be shared (as it would be impractical to paste everything in a comment).</p>"},{"location":"settings/mediamanagement/","title":"Media Management","text":"<p>In the 'Media Management' sub-section, you can find settings related to the placement, naming and format of files.</p>"},{"location":"settings/mediamanagement/#file-naming","title":"File Naming","text":""},{"location":"settings/mediamanagement/#rename-downloaded-files","title":"Rename Downloaded Files","text":"<p>When a file is downloaded, this setting decides if it should be renamed or not. If the checkbox is unchecked, the default filename is used. If the checkbox is checked, it is renamed following the formats set below. This does not affect the naming of the volume folder, only the filename itself.</p> Setting Example Result Disabled Deadpool 01 (of 04) (1994) (digital) (Minutemen-Slayer).cbr Enabled Deadpool (1994) Volume 02 Issue 001.cbr"},{"location":"settings/mediamanagement/#volume-folder-naming","title":"Volume Folder Naming","text":"<p>The naming format for the volume folder (folder structure allowed). Keep in mind that the resulting name could differ slightly from the format, in the case that certain values of variables contain illegal characters. For example, if the <code>{series_name}</code> is \"What If...\", the resulting name will have \"What If\" as it's value, because the character <code>.</code> is not allowed at the end of the name in Windows. This also applies to the other naming formats in this section.</p> Available Variables Variable Example Value {series_name} The Incredibles {clean_series_name} Incredibles, The {volume_number} 01 {comicvine_id} 2127 {year} 1994 {publisher} DC Comics Example Value Example Resulting Name {series_name}/Volume {volume_number} ({year}) Deadpool/Volume 01 (1994) {clean_series_name} - Volume {year} Incredibles, The - Volume 1994"},{"location":"settings/mediamanagement/#file-naming_1","title":"File Naming","text":"<p>The naming format for the file (folder structure allowed).</p> Available Variables Variable Example Value {series_name} The Incredibles {clean_series_name} Incredibles, The {volume_number} 01 {comicvine_id} 2127 {year} 1994 {publisher} DC Comics {issue_comicvine_id} 6422 {issue_number} 001 {issue_title} Spider-Man; Spider-Man Vs. The Chameleon {issue_release_date} 1963-03-01 {issue_release_year} 1963 Example Value Example Resulting Name {series_name} ({year}) Volume {volume_number} Issue {issue_number} Deadpool (1994) Volume 01 Issue 002 Issue {issue_number} - {issue_title} ({issue_release_date}) [issue_comicvine_id] Issue 001 - Spider-Man; Spider-Man Vs. The Chameleon (1963-03-01) [6422]"},{"location":"settings/mediamanagement/#file-naming-for-special-versions","title":"File Naming For Special Versions","text":"<p>The naming format for the file itself (if it's a special version, like a one shot, tpb or hard cover).</p> Available Variables Variable Example Value {series_name} Silver Surfer Rebirth {clean_series_name} Silver Surfer Rebirth {volume_number} 01 {comicvine_id} 147555 {year} 2022 {publisher} Marvel {special_version} One-Shot Example Value Example Resulting Name {series_name} ({year}) Volume {volume_number} {special_version} Silver Surfer Rebirth (2022) Volume 01 TPB {series_name} ({year}) Silver Surfer Rebirth (2022)"},{"location":"settings/mediamanagement/#file-naming-for-issues-without-title","title":"File Naming For Issues Without Title","text":"<p>The naming format for the file, in the case that the issue does not have a title.</p> <p>If the value of the setting File Naming uses the issue title, it will most likely look ugly when the issue doesn't have a title. For example, if your format is <code>Issue {issue_number} - {issue_title}</code>, but the issue doesn't have a title, it will result in a file like <code>Issue 5 - Unknown.cbr</code>. For that scenario, this setting exists. Here you can set an alternative format for when the issue doesn't have a title.</p> Available Variables Variable Example Value {series_name} The Incredibles {clean_series_name} Incredibles, The {volume_number} 01 {comicvine_id} 2127 {year} 1994 {publisher} DC Comics {issue_comicvine_id} 6422 {issue_number} 001 {issue_release_date} 1963-03-01 {issue_release_year} 1963 Example Value Example Resulting Name {series_name} ({year}) Volume {volume_number} Issue {issue_number} Deadpool (1994) Volume 01 Issue 002 Issue {issue_number} ({issue_release_date}) [issue_comicvine_id] Issue 001 (1963-03-01) [6422]"},{"location":"settings/mediamanagement/#treat-volume-issues-as-no-title","title":"Treat Volume Issues as \"No Title\"","text":"<p>Sometimes a volume will consist of multiple sub-volumes (these volumes are labelled 'Volume As Issue' in the web-UI). This setting controls whether Kapowarr should name these like issues (using the File Naming For Issues Without Title format) or not.</p> Setting Example Result Enabled Invincible Compendium (2011) Volume 1 Issue 1-2.cbrInvincible Compendium (2011) Volume 1 Issue 3.cbr Disabled Invincible Compendium (2011) Volume 1 - 2.cbrInvincible Compendium (2011) Volume 3.cbr"},{"location":"settings/mediamanagement/#use-long-special-version-labels","title":"Use Long Special Version Labels","text":"<p>Whether or not to use, for example, 'One-Shot' instead of 'OS' in the filename of special versions. The term 'TPB' will always stay 'TPB'.</p>"},{"location":"settings/mediamanagement/#issue-padding","title":"Issue Padding","text":"<p>This defines how issue numbers are 'padded' (3 digits, 2 digits, etc.). This is useful in the case of file sorting, as many operating systems sort alphabetically, instead of alphanumerically. To them, because 1 is lower than 2, \"10\" comes before \"2\". To get around this, we 'pad' the numbers with leading zeroes.</p> <p>Options are:</p> <ul> <li>x (no padding, i.e. 1, 2...99, 100)</li> <li>0x (2 digits, i.e. 01, 02...99, 100)</li> <li>00x (3 digits, i.e. 001, 002...099, 100)</li> <li>000x (4 digits, i.e. 0001, 0002...0099, 0100)</li> </ul>"},{"location":"settings/mediamanagement/#volume-padding","title":"Volume Padding","text":"<p>This defines how volume numbers are 'padded' (3 digits, 2 digits, etc.). It has the same use case that Issue Padding has.</p> <p>Options are:</p> <ul> <li>x (no padding, i.e. 1, 2...99, 100)</li> <li>0x (2 digits, i.e. 01, 02...99, 100)</li> <li>00x (3 digits, i.e. 001, 002...099, 100)</li> </ul>"},{"location":"settings/mediamanagement/#converting","title":"Converting","text":"<p>The \"Converting\" feature allows you to change the format of your files (e.g. from cbr to cbz). It can also extract archive files.</p>"},{"location":"settings/mediamanagement/#convert-downloaded-files","title":"Convert Downloaded Files","text":"<p>If Kapowarr should automatically convert files after they've been downloaded. Kapowarr will follow the format preference set.</p>"},{"location":"settings/mediamanagement/#extract-archives-covering-multiple-issues","title":"Extract archives covering multiple issues","text":"<p>If an archive file is downloaded with multiple issues inside, then first extract the files inside and then convert. With the setting disabled, Kapowarr will covert the file as normal. Even when no format preference is set (don't convert), this setting can still be enabled to extract archive files (up to beta-3, this was called 'unzipping').</p> <p>Note: if Kapowarr determines that a file in the archive file is not related to the volume, it will not be extracted and will be deleted when the archive file is finished being unpacked. If you find faulty deletions occurring, please report this.</p>"},{"location":"settings/mediamanagement/#format-preference","title":"Format Preference","text":"<p>The formats that Kapowarr should convert the files to. It will try to convert the files to the format at place 1, but if that is not possible, it will fall back to the format at place 2, and so forth. The last place will always be occupied by the format 'No Conversion'. That means that if Kapowarr is not able to convert the file to any of the set formats, it will just keep the current one. If no format preference is set ('No Conversion' is at place 1), no conversion will happen. </p> The format called 'folder' <p>The format called 'folder' means extracting archive files. Kapowarr will extract all files inside the archive, delete the original archive file, filter unrelated files and rename the relevant ones. This is different from the 'Extract archives covering multiple issues' setting. That setting will extract the files from an archive file covering multiple issues and will then convert those extracted files. If you then add 'folder' to the format preference, it will extract any archive files coming out of the original archive file again. The format 'folder' will most likely lead to a folder with inside of it a series of image files. If you want to recreate the 'unzipping' feature from Kapowarr beta-3 and before, enable the before mentioned setting and do not include 'folder' in the format preference. </p> <p>Note: if Kapowarr determines that a file in the archive file is not related to the volume, it will not be extracted and will be deleted when the archive file is finished being unpacked. If you find faulty deletions occurring, please report this.</p>"},{"location":"settings/mediamanagement/#root-folders","title":"Root Folders","text":"<p>Root folders are the base folders that Kapowarr works in. All content is put in these folders. Kapowarr needs at least one root folder set in order to work properly.</p> <p>When adding a volume (or when editing one), you choose in which root folder all content for that volume is put. Kapowarr will never touch any files outside the root folders (except in the download folder). You might have multiple root folders because you store your comics on multiple drives or want different access rights to certain volumes, to name a few reasons.</p> <p>If you use docker to run Kapowarr and have followed the installation instructions, this is where you would enter <code>/comics-1</code>, <code>/comics-2</code>, etc.</p>"},{"location":"settings/settings/","title":"Introduction","text":"<p>You can find documentation for each setting here. It's also possible to find documentation for a setting by using the same URL as in the web-UI. When you make changes in the settings, don't forget to click 'Save' at the top!</p>"}]}